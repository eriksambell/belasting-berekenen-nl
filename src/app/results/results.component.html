<section id="results" *ngIf="event" #results
  (window:resize)="onResize($event)"  
  [style.padding-right.px]="15">
  <div class="results-container">
    <section class="results-total">
      <p class="results-total-text">U betaalt maandelijks</p>
      <p class="results-total-number">&euro; {{ totalTax | number: '1.0-0' }}</p>
      <p class="results-total-text">inkomensbelasting</p>
    </section>
    <section class="results-graph" #graph
      [style.height.px]="levels[levels.length-1].height / 100 * graph.offsetWidth">
      <div class="box" *ngFor="let line of budget; index as i" #container
        [style.width.%]="setWidth(line.amount)"
        [style.height.px]="setWidth(line.amount)/100 * graph.offsetWidth"
        [style.left.px]="positions[i].left/100 * graph.offsetWidth"
        [style.bottom.px]="positions[i].bottom/100 * graph.offsetWidth"
        [style.transition-delay.ms]="i * 200">
        <div class="box-number" 
          [style.height.px]="container.offsetWidth"
          (mouseenter)="line.showInfo = true"
          (mouseleave)="line.showInfo = false">
          <p [style.font-size.px]="container.offsetWidth / 3">
            &euro;{{ line.amount / budgetTotal * totalTax | number: '1.0-0' }}
          </p>
        </div>
        <div class="box-info" *ngIf="line.showInfo" #boxInfo
          [style.left.px] = "0.5 * container.clientWidth + correctHover(container, results)">
          <span [style.left.px] = "0.5 * boxInfo.clientWidth - 8 - correctHover(container, results)">arrow up</span>
          <p>U betaalt &euro;{{ line.amount / budgetTotal * totalTax | number: '1.2-2' }}/maand voor <span>{{ line.long }}</span></p>
        </div>
      </div>

      <!-- <div *ngFor="let line of budget" class="results-graph-box" [style.width.%]="setWidth(line.amount)">
        <svg [attr.width]="100 + '%'" 
            preserveAspectRatio="xMidYMid meet" viewBox="0 0 100 100">
            <circle [attr.cx]="50" 
                    [attr.cy]="50" 
                    [attr.r]="44"  
            />
          <text [attr.font-size]="22"
                x="50%" y="50%" dominant-baseline="middle" text-anchor="middle">
            &euro;{{ line.amount / budgetTotal * totalTax | number: '1.0-0' }}
          </text>
        </svg>
        <span>
          <p>{{ line.short }}</p>
        </span>
      </div> -->

    </section>
  </div>
</section>